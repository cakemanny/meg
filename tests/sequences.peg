
parse: v1=a ' '* "and" ' '* v2=b { v1 ^ v2 }
;
a: "a"
;
b: "b"
;

%%

let () =
  let input = string_view_of_string "a and b" in
  match (parse input) with
  | Success ("ab", (_, _, len)) -> exit 0
  | Success (value, _) ->
      (Printf.eprintf "Expected match, after action, to be \"ab\", actual: %s"
        value;
       exit 1)
  | Error msg -> (Printf.eprintf "%s" msg)

